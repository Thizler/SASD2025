Data Class (Code Smell)

Data Class ‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏•‡∏≤‡∏™‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÅ‡∏ï‡πà ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (fields) ‡∏Å‡∏±‡∏ö get/set methods ‡∏´‡∏£‡∏∑‡∏≠ constructor ‡πÅ‡∏ï‡πà ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏° (behavior / method logic) ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏•‡∏¢ ‡∏ó‡∏≥‡∏ï‡∏±‡∏ß‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏Ñ‡πà ‚Äú‡∏ñ‡∏∏‡∏á‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‚Äù
‡πÉ‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏Å‡∏£‡∏ì‡∏µ‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏•‡∏¥‡πà‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏°‡∏±‡∏ô‡πÑ‡∏°‡πà encapsulate behavior ‡πÅ‡∏•‡∏∞‡∏°‡∏±‡∏Å‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ logic ‡∏ñ‡∏π‡∏Å‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡πÑ‡∏õ‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏•‡∏≤‡∏™‡∏≠‡∏∑‡πà‡∏ô‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ (Feature Envy)

a) ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á Data Class Code Smell

Data Class ‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏•‡∏≤‡∏™‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÅ‡∏ï‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏°‡∏ò‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á

‡∏°‡∏±‡∏Å‡∏°‡∏µ‡πÅ‡∏ï‡πà fields

‡∏°‡∏µ‡πÅ‡∏ï‡πà getters/setters

‡πÑ‡∏°‡πà‡∏°‡∏µ business logic

‡∏Ñ‡∏•‡∏≤‡∏™‡∏≠‡∏∑‡πà‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏≠‡∏á ‚Üí ‡πÄ‡∏Å‡∏¥‡∏î Feature Envy ‡∏ï‡πà‡∏≠

‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?

Encapsulation ‡πÑ‡∏°‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå

Logic ‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏≠‡∏∑‡πà‡∏ô ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà object ‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏ô

‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏Ç‡∏¢‡∏≤‡∏¢‡∏£‡∏∞‡∏ö‡∏ö‡∏¢‡∏≤‡∏Å ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ data ‡∏Å‡∏±‡∏ö behavior ‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏ô‡∏•‡∏∞‡∏ó‡∏µ‡πà

‡∏¢‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢ ‡πÜ:
-> ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏¢‡∏≠‡∏°‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏•‡∏¢ ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏Ñ‡∏≠‡∏¢‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ

b) ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô Data Class (‡∏°‡∏µ‡∏Å‡∏•‡∏¥‡πà‡∏ô)
‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (C#)
public class Employee
{
    public string Name { get; set; }
    public double Salary { get; set; }
}


‡∏™‡πà‡∏ß‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏õ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ logic ‡πÄ‡∏≠‡∏á ‡πÄ‡∏ä‡πà‡∏ô:

public class SalaryService
{
    public double CalculateYearlySalary(Employee emp)
    {
        return emp.Salary * 12;
    }
}


‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏´‡∏°?
Employee ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÅ‡∏ï‡πà‡∏≠‡∏∞‡πÑ‡∏£ ‡πÜ ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏´‡πâ class ‡∏≠‡∏∑‡πà‡∏ô‡∏ó‡∏≥‡∏´‡∏°‡∏î ‚Üí Data Class + Feature Envy

c) ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏µ‡πà Refactoring ‡πÅ‡∏•‡πâ‡∏ß (‡πÉ‡∏™‡πà behavior ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤)
‡πÅ‡∏Å‡πâ‡πÉ‡∏´‡πâ Employee ‡∏î‡∏π‡πÅ‡∏•‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
public class Employee
{
    public string Name { get; }
    public double Salary { get; private set; }

    public Employee(string name, double salary)
    {
        Name = name;
        Salary = salary;
    }

    public double CalculateYearlySalary()
    {
        return Salary * 12;
    }
}


‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô

Salary logic ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Employee

Encapsulation ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô

‡∏Ñ‡∏•‡∏≤‡∏™‡∏≠‡∏∑‡πà‡∏ô‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏∏‡πà‡∏á‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ

‡πÇ‡∏Ñ‡πâ‡∏î‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏™‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô

‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ Employee ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô object ‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡πá‡∏°‡∏ï‡∏±‡∏ß ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà ‚Äú‡∏ñ‡∏∏‡∏á‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‚Äù ‡πÅ‡∏•‡πâ‡∏ß üòä

d) ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà Data Class ‡πÑ‡∏°‡πà‡∏ñ‡∏∑‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á refactor)

‡∏ô‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å ‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ú‡∏¥‡∏î‡∏ß‡πà‡∏≤ Data Class ‡∏ï‡πâ‡∏≠‡∏á refactor ‡πÄ‡∏™‡∏°‡∏≠
‡∏à‡∏£‡∏¥‡∏á ‡πÜ ‡πÅ‡∏•‡πâ‡∏ß ‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á Data Class ‡∏Ñ‡∏∑‡∏≠‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà ‚Äú‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‚Äù ‡πÅ‡∏•‡∏∞ ‚Äú‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‚Äù ‡πÄ‡∏ä‡πà‡∏ô:

1) DTO (Data Transfer Object)

‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö

‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö API

‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡πà‡∏≤‡∏ô network

mapping ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å database
‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ logic

public class EmployeeDTO
{
    public string Name { get; set; }
    public double Salary { get; set; }
}


‡∏ô‡∏µ‡πà‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤ ‡∏î‡∏µ‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ DTO ‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏Ñ‡πà ‚Äú‡∏£‡∏±‡∏ö‚Äì‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‚Äù

2) Value Object ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô

‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏ä‡πà‡∏ô‡∏û‡∏ß‡∏Å

Point(x, y)

RGB(r, g, b)

Coordinate(lat, lng)

‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏Ñ‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á ‡πÜ ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ logic ‡∏Å‡πá‡πÑ‡∏î‡πâ

3) Model ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô ORM (‡πÄ‡∏ä‡πà‡∏ô Entity Framework)

Entity ‡∏ö‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÅ‡∏ï‡πà fields/setters ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ ORM ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
‡∏ñ‡πâ‡∏≤‡πÑ‡∏õ‡πÄ‡∏û‡∏¥‡πà‡∏° logic ‡∏≠‡∏≤‡∏à‡∏ú‡∏¥‡∏î‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á framework

4) View Model ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö UI

UI ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö‡πÅ‡∏ö‡∏ô ‡πÜ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö binding
‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ behavior
